(()=>{var e={};e.id=992,e.ids=[992],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13315:(e,s,a)=>{Promise.resolve().then(a.bind(a,34831))},15980:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\xampp\\\\htdocs\\\\GIT\\\\trinkapasss\\\\src\\\\app\\\\organizer\\\\register\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\xampp\\htdocs\\GIT\\trinkapasss\\src\\app\\organizer\\register\\page.tsx","default")},17630:(e,s,a)=>{"use strict";a.r(s),a.d(s,{"403c4eca82b923c926c2240499ae2f97ac89bd2512":()=>o,"40b0c62d7c79d53b3b72709cf8b487a2a988cf8785":()=>n});var r=a(91199);a(42087);var t=a(26222),i=a(61803);async function n(e){try{let s=await (0,t.ht)(e.email);if(!s)return{success:!1,message:"Usu\xe1rio n\xe3o encontrado."};if(s.password_hash!==e.password)return{success:!1,message:"Senha incorreta."};if("admin"!==s.tipo&&"organizer"!==s.tipo)return{success:!1,message:"Acesso negado. Tipo de usu\xe1rio n\xe3o permitido para login nesta \xe1rea."};let{password_hash:a,...r}=s;return{success:!0,message:"Login bem-sucedido!",user:r,userType:s.tipo}}catch(e){return console.error("Unified login error:",e),{success:!1,message:"Ocorreu um erro durante o login. Tente novamente."}}}async function o(e){try{if(await (0,t.ht)(e.email))return{success:!1,message:"Este e-mail j\xe1 est\xe1 cadastrado."};let s=e.password_hash,a={id:`org-${(0,i.A)()}`,nome:e.nome,email:e.email,password_hash:s,tipo:"organizer",whatsapp:e.whatsapp},{password_hash:r,...n}=await (0,t.nu)(a);return{success:!0,message:"Cadastro realizado com sucesso!",user:n,userType:"organizer"}}catch(e){return console.error("Organizer registration error:",e),{success:!1,message:"Ocorreu um erro durante o cadastro. Tente novamente."}}}(0,a(33331).D)([n,o]),(0,r.A)(n,"40b0c62d7c79d53b3b72709cf8b487a2a988cf8785",null),(0,r.A)(o,"403c4eca82b923c926c2240499ae2f97ac89bd2512",null)},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30249:(e,s,a)=>{Promise.resolve().then(a.bind(a,15980))},33873:e=>{"use strict";e.exports=require("path")},34831:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var r=a(60687),t=a(63213),i=a(16189);a(43210);var n=a(11516);function o({children:e}){let{isOrganizerLoggedIn:s,isLoading:a,organizerUser:o}=(0,t.A)();(0,i.useRouter)();let c=(0,i.usePathname)();return a?(0,r.jsxs)("div",{className:"d-flex align-items-center justify-content-center vh-100",children:[(0,r.jsx)(n.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,r.jsx)("p",{className:"ms-3 fs-5 text-muted",children:"Carregando..."})]}):s||"/organizer/register"===c?(0,r.jsx)("div",{className:"container-fluid container-lg py-4 py-md-5",children:e}):(0,r.jsxs)("div",{className:"d-flex align-items-center justify-content-center vh-100",children:[(0,r.jsx)(n.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,r.jsx)("p",{className:"ms-3 fs-5 text-muted",children:"Redirecionando para login..."})]})}},37291:(e,s,a)=>{Promise.resolve().then(a.bind(a,71145))},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71032:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(82614).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},71145:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\xampp\\\\htdocs\\\\GIT\\\\trinkapasss\\\\src\\\\app\\\\organizer\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\xampp\\htdocs\\GIT\\trinkapasss\\src\\app\\organizer\\layout.tsx","default")},73829:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var r=a(60687),t=a(27605),i=a(63442),n=a(45880),o=a(29867),c=a(6475);let l=(0,c.createServerReference)("403c4eca82b923c926c2240499ae2f97ac89bd2512",c.callServer,void 0,c.findSourceMapURL,"organizerRegisterAction");var d=a(63213),m=a(85814),p=a.n(m),u=a(16189),h=a(11516),x=a(71032),f=a(13914),g=a(43210);let v=n.Ik({nome:n.Yj().min(3,{message:"Nome deve ter pelo menos 3 caracteres."}),email:n.Yj().email({message:"E-mail inv\xe1lido."}),whatsapp:n.Yj().regex(/^\d{10,11}$/,{message:"WhatsApp inv\xe1lido (somente n\xfameros, DDD+N\xfamero)."}),password:n.Yj().min(6,{message:"Senha deve ter pelo menos 6 caracteres."}),confirmPassword:n.Yj()}).refine(e=>e.password===e.confirmPassword,{message:"As senhas n\xe3o coincidem.",path:["confirmPassword"]});function b(){let{toast:e}=(0,o.dj)(),{organizerLogin:s,isOrganizerLoggedIn:a,isLoading:n}=(0,d.A)(),c=(0,u.useRouter)(),[m,b]=(0,g.useState)(!1),{register:j,handleSubmit:w,formState:{errors:y}}=(0,t.mN)({resolver:(0,i.u)(v),defaultValues:{nome:"",email:"",whatsapp:"",password:"",confirmPassword:""}});if(n)return(0,r.jsx)("div",{className:"d-flex align-items-center justify-content-center min-vh-100",style:{marginTop:"-56px"},children:(0,r.jsx)(h.A,{className:"h-12 w-12 animate-spin text-primary"})});if(a)return(0,r.jsxs)("div",{className:"d-flex align-items-center justify-content-center min-vh-100",style:{marginTop:"-56px"},children:[(0,r.jsx)(h.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,r.jsx)("p",{className:"ms-2",children:"Redirecionando..."})]});let N=async a=>{b(!0);let{confirmPassword:r,...t}=a,i=await l({...t,password_hash:a.password});b(!1),i.success&&i.user&&"organizer"===i.userType?(s(i.user),e({title:"Cadastro Bem-Sucedido!",description:`Bem-vindo, ${i.user.nome}! Voc\xea foi logado automaticamente.`,variant:"default"}),c.push("/organizer/dashboard")):e({title:"Falha no Cadastro",description:i.message,variant:"destructive"})};return(0,r.jsx)("div",{className:"d-flex align-items-center justify-content-center min-vh-100 py-5",style:{marginTop:"-56px"},children:(0,r.jsxs)("div",{className:"card border",style:{width:"100%",maxWidth:"550px"},children:[" ",(0,r.jsxs)("div",{className:"card-header p-4 text-center",children:[(0,r.jsxs)("h1",{className:"card-title fs-2 fw-bold text-primary d-flex align-items-center justify-content-center gap-2",children:[(0,r.jsx)(x.A,{className:"h-8 w-8"})," Cadastro de Organizador"]}),(0,r.jsx)("p",{className:"card-text text-muted",children:"Crie sua conta para come\xe7ar a gerenciar seus eventos."})]}),(0,r.jsxs)("div",{className:"card-body p-4 p-md-5",children:[(0,r.jsxs)("form",{onSubmit:w(N),className:"needs-validation",noValidate:!0,children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"nome",className:"form-label",children:"Nome da Empresa/Organizador"}),(0,r.jsx)("input",{id:"nome",...j("nome"),className:`form-control ${y.nome?"is-invalid":""}`}),y.nome&&(0,r.jsx)("div",{className:"invalid-feedback",children:y.nome.message})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"email",className:"form-label",children:"E-mail de Contato"}),(0,r.jsx)("input",{id:"email",type:"email",...j("email"),className:`form-control ${y.email?"is-invalid":""}`}),y.email&&(0,r.jsx)("div",{className:"invalid-feedback",children:y.email.message})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"whatsapp",className:"form-label",children:"WhatsApp (com DDD, somente n\xfameros)"}),(0,r.jsx)("input",{id:"whatsapp",type:"tel",...j("whatsapp"),className:`form-control ${y.whatsapp?"is-invalid":""}`,placeholder:"Ex: 11988887777"}),y.whatsapp&&(0,r.jsx)("div",{className:"invalid-feedback",children:y.whatsapp.message})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"password",className:"form-label",children:"Senha"}),(0,r.jsx)("input",{id:"password",type:"password",...j("password"),className:`form-control ${y.password?"is-invalid":""}`}),y.password&&(0,r.jsx)("div",{className:"invalid-feedback",children:y.password.message})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirmar Senha"}),(0,r.jsx)("input",{id:"confirmPassword",type:"password",...j("confirmPassword"),className:`form-control ${y.confirmPassword?"is-invalid":""}`}),y.confirmPassword&&(0,r.jsx)("div",{className:"invalid-feedback",children:y.confirmPassword.message})]}),(0,r.jsxs)("button",{type:"submit",className:"btn btn-primary w-100 btn-lg fw-semibold",disabled:m,children:[m?(0,r.jsx)(h.A,{className:"me-2 h-4 w-4 animate-spin"}):(0,r.jsx)(x.A,{className:"me-2 h-4 w-4"}),"Cadastrar"]})]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)("p",{className:"text-muted small",children:["J\xe1 possui uma conta?"," ",(0,r.jsxs)(p(),{href:"/login",className:"btn btn-secondary btn-sm text-decoration-none",children:[(0,r.jsx)(f.A,{className:"me-1 h-4 w-4"})," Fa\xe7a Login"]})]})})]})]})})}},74857:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>l});var r=a(65239),t=a(48088),i=a(88170),n=a.n(i),o=a(30893),c={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);a.d(s,c);let l={children:["",{children:["organizer",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,15980)),"E:\\xampp\\htdocs\\GIT\\trinkapasss\\src\\app\\organizer\\register\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,71145)),"E:\\xampp\\htdocs\\GIT\\trinkapasss\\src\\app\\organizer\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,21075)),"E:\\xampp\\htdocs\\GIT\\trinkapasss\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["E:\\xampp\\htdocs\\GIT\\trinkapasss\\src\\app\\organizer\\register\\page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/organizer/register/page",pathname:"/organizer/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},79551:e=>{"use strict";e.exports=require("url")},79748:e=>{"use strict";e.exports=require("fs/promises")},95401:(e,s,a)=>{Promise.resolve().then(a.bind(a,73829))}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[447,724,20,658,543,105,507,989],()=>a(74857));module.exports=r})();