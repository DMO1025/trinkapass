(()=>{var e={};e.id=520,e.ids=[520],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5748:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var a=r(60687),t=r(27605),i=r(63442),n=r(45880),o=r(29867),d=r(6475);let c=(0,d.createServerReference)("40b0c62d7c79d53b3b72709cf8b487a2a988cf8785",d.callServer,void 0,d.findSourceMapURL,"unifiedLoginAction");var l=r(63213),m=r(85814),p=r.n(m),u=r(16189),h=r(11516),x=r(13914),g=r(71032),f=r(43210);let v=n.Ik({email:n.Yj().email({message:"E-mail inv\xe1lido."}),password:n.Yj().min(1,{message:"Senha \xe9 obrigat\xf3ria."})});function b(){let{toast:e}=(0,o.dj)(),{adminLogin:s,organizerLogin:r,isAdminLoggedIn:n,isOrganizerLoggedIn:d,isLoading:m}=(0,l.A)(),b=(0,u.useRouter)(),[y,j]=(0,f.useState)(!1),{register:w,handleSubmit:N,formState:{errors:A}}=(0,t.mN)({resolver:(0,i.u)(v),defaultValues:{email:"",password:""}});if(m)return(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center min-vh-100",style:{marginTop:"-56px"},children:[" ",(0,a.jsx)(h.A,{className:"h-12 w-12 animate-spin text-primary"})]});if(n||d)return(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center min-vh-100",style:{marginTop:"-56px"},children:[(0,a.jsx)(h.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,a.jsx)("p",{className:"ms-2",children:"Redirecionando..."})]});let k=async a=>{j(!0);let t=await c(a);j(!1),t.success&&t.user&&t.userType?"admin"===t.userType&&t.user?(s(t.user),e({title:"Login de Admin Bem-Sucedido!",description:`Bem-vindo, ${t.user.nome}!`}),b.push("/admin/dashboard")):"organizer"===t.userType&&t.user?(r(t.user),e({title:"Login de Organizador Bem-Sucedido!",description:`Bem-vindo, ${t.user.nome}!`}),b.push("/organizer/dashboard")):e({title:"Falha no Login",description:"Tipo de usu\xe1rio desconhecido ou dados de usu\xe1rio ausentes.",variant:"destructive"}):e({title:"Falha no Login",description:t.message,variant:"destructive"})};return(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center min-vh-100 py-5",style:{marginTop:"-56px"},children:[" ",(0,a.jsxs)("div",{className:"card border",style:{width:"100%",maxWidth:"450px"},children:[" ",(0,a.jsxs)("div",{className:"card-header p-4 text-center",children:[(0,a.jsxs)("h1",{className:"card-title fs-2 fw-bold text-primary d-flex align-items-center justify-content-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-8 w-8"})," Acesso ao Sistema"]}),(0,a.jsx)("p",{className:"card-text text-muted",children:"Fa\xe7a login para gerenciar eventos ou acessar o painel administrativo."})]}),(0,a.jsxs)("div",{className:"card-body p-4 p-md-5",children:[(0,a.jsxs)("form",{onSubmit:N(k),className:"needs-validation",noValidate:!0,children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"email",className:"form-label",children:"E-mail"}),(0,a.jsx)("input",{id:"email",type:"email",...w("email"),className:`form-control ${A.email?"is-invalid":""}`,autoComplete:"email"}),A.email&&(0,a.jsx)("div",{className:"invalid-feedback",children:A.email.message})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"password",className:"form-label",children:"Senha"}),(0,a.jsx)("input",{id:"password",type:"password",...w("password"),className:`form-control ${A.password?"is-invalid":""}`,autoComplete:"current-password"}),A.password&&(0,a.jsx)("div",{className:"invalid-feedback",children:A.password.message})]}),(0,a.jsxs)("button",{type:"submit",className:"btn btn-primary w-100 btn-lg fw-semibold",disabled:y,children:[y?(0,a.jsx)(h.A,{className:"me-2 h-4 w-4 animate-spin"}):(0,a.jsx)(x.A,{className:"me-2 h-4 w-4"}),"Entrar"]})]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsxs)("p",{className:"text-muted small",children:["N\xe3o tem uma conta de organizador?"," ",(0,a.jsxs)(p(),{href:"/organizer/register",className:"btn btn-secondary btn-sm text-decoration-none",children:[(0,a.jsx)(g.A,{className:"me-1 h-4 w-4"})," Cadastre-se"]})]})})]})]})]})}},6492:(e,s,r)=>{Promise.resolve().then(r.bind(r,5748))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17630:(e,s,r)=>{"use strict";r.r(s),r.d(s,{"403c4eca82b923c926c2240499ae2f97ac89bd2512":()=>o,"40b0c62d7c79d53b3b72709cf8b487a2a988cf8785":()=>n});var a=r(91199);r(42087);var t=r(26222),i=r(61803);async function n(e){try{let s=await (0,t.ht)(e.email);if(!s)return{success:!1,message:"Usu\xe1rio n\xe3o encontrado."};if(s.password_hash!==e.password)return{success:!1,message:"Senha incorreta."};if("admin"!==s.tipo&&"organizer"!==s.tipo)return{success:!1,message:"Acesso negado. Tipo de usu\xe1rio n\xe3o permitido para login nesta \xe1rea."};let{password_hash:r,...a}=s;return{success:!0,message:"Login bem-sucedido!",user:a,userType:s.tipo}}catch(e){return console.error("Unified login error:",e),{success:!1,message:"Ocorreu um erro durante o login. Tente novamente."}}}async function o(e){try{if(await (0,t.ht)(e.email))return{success:!1,message:"Este e-mail j\xe1 est\xe1 cadastrado."};let s=e.password_hash,r={id:`org-${(0,i.A)()}`,nome:e.nome,email:e.email,password_hash:s,tipo:"organizer",whatsapp:e.whatsapp},{password_hash:a,...n}=await (0,t.nu)(r);return{success:!0,message:"Cadastro realizado com sucesso!",user:n,userType:"organizer"}}catch(e){return console.error("Organizer registration error:",e),{success:!1,message:"Ocorreu um erro durante o cadastro. Tente novamente."}}}(0,r(33331).D)([n,o]),(0,a.A)(n,"40b0c62d7c79d53b3b72709cf8b487a2a988cf8785",null),(0,a.A)(o,"403c4eca82b923c926c2240499ae2f97ac89bd2512",null)},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},48348:(e,s,r)=>{Promise.resolve().then(r.bind(r,94934))},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71032:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(82614).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},79551:e=>{"use strict";e.exports=require("url")},79748:e=>{"use strict";e.exports=require("fs/promises")},86849:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>l,routeModule:()=>p,tree:()=>c});var a=r(65239),t=r(48088),i=r(88170),n=r.n(i),o=r(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(s,d);let c={children:["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,94934)),"E:\\xampp\\htdocs\\GIT\\trinkapasss\\src\\app\\login\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,21075)),"E:\\xampp\\htdocs\\GIT\\trinkapasss\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["E:\\xampp\\htdocs\\GIT\\trinkapasss\\src\\app\\login\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},94934:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\xampp\\\\htdocs\\\\GIT\\\\trinkapasss\\\\src\\\\app\\\\login\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\xampp\\htdocs\\GIT\\trinkapasss\\src\\app\\login\\page.tsx","default")}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[447,724,20,658,543,105,507,989],()=>r(86849));module.exports=a})();