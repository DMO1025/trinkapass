{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/actions/organizer-settings-actions.ts"],"sourcesContent":["// src/app/actions/organizer-settings-actions.ts\n'use server';\n\nimport { getUserById, updateUser } from '@/lib/data-service.server';\nimport type { OrganizerSettingsUpdatePayload, ActionResultWithUser, UserData, OrganizerSafeData } from '@/lib/types';\nimport { revalidatePath } from 'next/cache';\n\nexport async function updateOrganizerSettingsAction(\n  userId: string,\n  payload: OrganizerSettingsUpdatePayload\n): Promise<ActionResultWithUser> {\n  try {\n    const user = await getUserById(userId);\n    if (!user || user.tipo !== 'organizer') {\n      return { success: false, message: 'Organizador não encontrado ou inválido.' };\n    }\n\n    const updates: Partial<Pick<UserData, 'pix_key_type' | 'pix_key' | 'id_photo_data_uri' | 'is_verified'>> = {};\n    let changed = false;\n\n    let newPixKeyType = user.pix_key_type;\n    let newPixKey = user.pix_key;\n    let newIdPhotoDataUri = user.id_photo_data_uri;\n\n\n    if (payload.pix_key_type !== undefined) {\n      const value = payload.pix_key_type === '' ? undefined : payload.pix_key_type;\n      if (value !== user.pix_key_type) {\n        updates.pix_key_type = value;\n        newPixKeyType = value;\n        changed = true;\n      }\n    }\n\n    if (payload.pix_key !== undefined) {\n      const value = payload.pix_key === '' ? undefined : payload.pix_key;\n      if (value !== user.pix_key) {\n        updates.pix_key = value;\n        newPixKey = value;\n        changed = true;\n      }\n    }\n    \n    if (payload.id_photo_data_uri !== undefined) {\n       const value = payload.id_photo_data_uri === '' ? undefined : payload.id_photo_data_uri;\n       if (value !== user.id_photo_data_uri) {\n        updates.id_photo_data_uri = value;\n        newIdPhotoDataUri = value;\n        changed = true;\n      }\n    }\n    \n    // Determine verification status based on presence of PIX key and ID photo\n    const isNowVerified = !!(newPixKeyType && newPixKey && newIdPhotoDataUri);\n    if (isNowVerified !== user.is_verified) {\n      updates.is_verified = isNowVerified;\n      changed = true;\n    }\n    \n    if (!changed) {\n        const safeUser: OrganizerSafeData = { \n            id: user.id, \n            nome: user.nome, \n            email: user.email, \n            tipo: user.tipo, \n            whatsapp: user.whatsapp, \n            pix_key_type: user.pix_key_type, \n            pix_key: user.pix_key, \n            id_photo_data_uri: user.id_photo_data_uri,\n            is_verified: user.is_verified \n        };\n        return { success: true, message: 'Nenhuma alteração foi enviada ou os valores são os mesmos.', user: safeUser };\n    }\n\n    const updatedUser = await updateUser(userId, updates);\n\n    if (!updatedUser) {\n      return { success: false, message: 'Falha ao atualizar configurações do organizador.' };\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { password_hash, ...safeUpdatedUser } = updatedUser;\n    \n    revalidatePath('/organizer/settings/withdrawal');\n    revalidatePath('/organizer/dashboard'); \n    \n    return { success: true, message: 'Configurações de saque e verificação atualizadas com sucesso!', user: safeUpdatedUser };\n\n  } catch (error) {\n    console.error('Update organizer settings error:', error);\n    return { success: false, message: 'Ocorreu um erro ao atualizar as configurações.' };\n  }\n}\n"],"names":[],"mappings":"AAAA,gDAAgD;;;;;;IAO1B","debugId":null}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/organizer/settings/withdrawal/page.tsx"],"sourcesContent":["\n'use client';\n\nimport { useForm, type SubmitHandler, Controller } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport { useToast } from '@/hooks/use-toast';\nimport { useRouter } from 'next/navigation';\nimport { Save, Loader2, ArrowLeft, Settings2, ShieldCheck, Upload, CreditCard } from 'lucide-react';\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { updateOrganizerSettingsAction } from '@/app/actions/organizer-settings-actions';\nimport type { OrganizerSettingsUpdatePayload } from '@/lib/types';\nimport Image from 'next/image';\n// ShadCN Select components are kept as Bootstrap select needs more custom JS for value handling with React Hook Form or a specific library.\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { cn } from '@/lib/utils'; // For ShadCN components\n\nconst MAX_FILE_SIZE_MB = 5;\nconst MAX_FILE_SIZE_BYTES = MAX_FILE_SIZE_MB * 1024 * 1024;\n\nconst EMPTY_SELECT_VALUE = \"__EMPTY_SELECTION__\"; // Unique value for the \"clear\" option\n\nconst pixKeyTypeSchema = z.enum(['cpf', 'cnpj', 'email', 'phone', 'random', ''], {\n  errorMap: () => ({ message: 'Selecione um tipo de chave PIX válido.' })\n});\n\nconst withdrawalSettingsSchema = z.object({\n  pix_key_type: pixKeyTypeSchema.optional(),\n  pix_key: z.string().optional(),\n  id_photo_data_uri: z.string().optional().refine(val => !val || val.startsWith('data:image/'), { message: \"Formato de imagem inválido. Use o upload.\" }),\n}).refine(data => {\n  // If pix_key_type is set (and not empty representing 'none'), pix_key must be present.\n  if (data.pix_key_type && data.pix_key_type !== '' && !data.pix_key) {\n    return false; \n  }\n  // If pix_key is set, pix_key_type must be present (and not empty representing 'none').\n  if (data.pix_key && (!data.pix_key_type || data.pix_key_type === '')) {\n    return false; \n  }\n  return true;\n}, {\n  message: 'Se você fornecer uma Chave PIX, o Tipo da Chave PIX também é obrigatório, e vice-versa.',\n  path: ['pix_key'], \n});\n\ntype WithdrawalSettingsFormValues = z.infer<typeof withdrawalSettingsSchema>;\n\nexport default function OrganizerWithdrawalSettingsPage() {\n  const { toast } = useToast();\n  const router = useRouter();\n  const { organizerUser, organizerLogin, isLoading: authIsLoading } = useAuth();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\n\n  const form = useForm<WithdrawalSettingsFormValues>({\n    resolver: zodResolver(withdrawalSettingsSchema),\n    defaultValues: {\n      pix_key_type: '', // Represents \"none\" or \"clear\" in the schema\n      pix_key: '',\n      id_photo_data_uri: '',\n    },\n  });\n\n  const { register, handleSubmit, control, formState: { errors }, reset, setValue, setError: setFormError, watch } = form;\n\n  useEffect(() => {\n    if (!authIsLoading && organizerUser) {\n      reset({\n        pix_key_type: organizerUser.pix_key_type || '', // Default to empty string if undefined\n        pix_key: organizerUser.pix_key || '',\n        id_photo_data_uri: organizerUser.id_photo_data_uri || '', \n      });\n      if (organizerUser.id_photo_data_uri) {\n        setImagePreview(organizerUser.id_photo_data_uri);\n      } else {\n        setImagePreview(null);\n      }\n    } else if (!authIsLoading && !organizerUser) {\n        router.replace('/login?redirect=/organizer/dashboard');\n    }\n  }, [authIsLoading, organizerUser, reset, router]);\n\n  const handleImageChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      if (file.size > MAX_FILE_SIZE_BYTES) {\n        setFormError('id_photo_data_uri', { message: `Arquivo muito grande. Máximo ${MAX_FILE_SIZE_MB}MB.` });\n        event.target.value = ''; \n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        const dataUri = reader.result as string;\n        setValue('id_photo_data_uri', dataUri, { shouldValidate: true });\n        setImagePreview(dataUri);\n      };\n      reader.readAsDataURL(file);\n    } else {\n      // If no file is selected (e.g., user clears the file input), reset to original or empty\n      setValue('id_photo_data_uri', organizerUser?.id_photo_data_uri || '', { shouldValidate: true });\n      setImagePreview(organizerUser?.id_photo_data_uri || null);\n    }\n  };\n\n  if (authIsLoading || !organizerUser) {\n    return (\n      <div className=\"d-flex align-items-center justify-content-center vh-100\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n        <p className=\"ms-2\">Carregando configurações...</p>\n      </div>\n    );\n  }\n\n  const onSubmit: SubmitHandler<WithdrawalSettingsFormValues> = async (data) => {\n    if (!organizerUser?.id) {\n      toast({ title: 'Erro de Autenticação', description: 'ID do organizador não encontrado.', variant: 'destructive' });\n      return;\n    }\n    setIsSubmitting(true);\n\n    const payload: OrganizerSettingsUpdatePayload = {\n      pix_key_type: data.pix_key_type as OrganizerSettingsUpdatePayload['pix_key_type'], // data.pix_key_type will be '' if \"Nenhum\" is selected\n      pix_key: data.pix_key || undefined,\n      id_photo_data_uri: data.id_photo_data_uri || undefined,\n    };\n    \n    const result = await updateOrganizerSettingsAction(organizerUser.id, payload);\n    setIsSubmitting(false);\n\n    if (result.success && result.user) {\n      toast({\n        title: 'Configurações Atualizadas!',\n        description: result.message || 'Suas informações de saque e verificação foram atualizadas.',\n        variant: 'default',\n      });\n      organizerLogin(result.user); \n    } else {\n      toast({\n        title: 'Falha ao Atualizar Configurações',\n        description: result.message,\n        variant: 'destructive',\n      });\n    }\n  };\n\n  return (\n    <div className=\"container-fluid container-md py-4 py-md-5\" style={{maxWidth: '720px'}}>\n      <button onClick={() => router.push('/organizer/dashboard')} className=\"btn btn-secondary mb-4 d-flex align-items-center gap-2\">\n        <ArrowLeft className=\"me-2 h-4 w-4\" /> Voltar para o Painel\n      </button>\n      <div className=\"card border\"> {/* Removed shadow-xl */}\n        <div className=\"card-header p-3 p-md-4 bg-light\">\n          <h1 className=\"card-title fs-2 fw-bold text-primary d-flex align-items-center gap-2\">\n            <Settings2 className=\"h-8 w-8\" /> Configurações de Saque e Verificação\n          </h1>\n          <p className=\"card-text text-muted\">\n            Defina sua chave PIX para recebimentos e envie sua documentação para verificação.\n          </p>\n        </div>\n        <div className=\"card-body p-3 p-md-4\">\n          <form onSubmit={handleSubmit(onSubmit)} className=\"needs-validation\" noValidate>\n            <div className=\"card p-3 p-md-4 mb-4 border-primary-subtle\">\n                <h3 className=\"fs-5 fw-semibold text-primary mb-3 d-flex align-items-center gap-2\"><CreditCard/> Chave PIX para Recebimento</h3>\n                <div className=\"vstack gap-3\">\n                    <div>\n                        <label htmlFor=\"pix_key_type\" className=\"form-label\">Tipo da Chave PIX</label>\n                        <Controller\n                            name=\"pix_key_type\"\n                            control={control}\n                            render={({ field }) => (\n                                <Select \n                                  onValueChange={(value) => field.onChange(value === EMPTY_SELECT_VALUE ? '' : value)}\n                                  value={field.value === '' || field.value === undefined ? EMPTY_SELECT_VALUE : field.value}\n                                >\n                                <SelectTrigger id=\"pix_key_type\" className={cn(\"form-select\", errors.pix_key_type && \"is-invalid\")}>\n                                    <SelectValue placeholder=\"Selecione o tipo da chave\" />\n                                </SelectTrigger>\n                                <SelectContent> \n                                    <SelectItem value={EMPTY_SELECT_VALUE}>Nenhum (Limpar)</SelectItem>\n                                    <SelectItem value=\"cpf\">CPF</SelectItem>\n                                    <SelectItem value=\"cnpj\">CNPJ</SelectItem>\n                                    <SelectItem value=\"email\">E-mail</SelectItem>\n                                    <SelectItem value=\"phone\">Telefone</SelectItem>\n                                    <SelectItem value=\"random\">Chave Aleatória</SelectItem>\n                                </SelectContent>\n                                </Select>\n                            )}\n                        />\n                        {errors.pix_key_type && <div className=\"invalid-feedback d-block\">{errors.pix_key_type.message}</div>}\n                    </div>\n                    <div>\n                        <label htmlFor=\"pix_key\" className=\"form-label\">Chave PIX</label>\n                        <input id=\"pix_key\" {...register('pix_key')} className={`form-control ${errors.pix_key ? 'is-invalid' : ''}`} placeholder=\"Sua chave PIX\"/>\n                        {errors.pix_key && <div className=\"invalid-feedback\">{errors.pix_key.message}</div>}\n                    </div>\n                </div>\n                 {errors.root && <div className=\"text-danger small mt-1\">{errors.root.message}</div>}\n            </div>\n            \n            <div className=\"card p-3 p-md-4 mb-4 border-accent-subtle\">\n                <h3 className=\"fs-5 fw-semibold text-accent mb-3 d-flex align-items-center gap-2\"><ShieldCheck/> Verificação de Identidade (Demonstração)</h3>\n                 <p className=\"small text-muted mb-3\">\n                    Para sua segurança e conformidade, em um sistema real, seria necessário verificar sua identidade. \n                    Esta é uma simulação. Envie uma foto sua segurando seu documento de RG ou CNH (ou clique em limpar para remover).\n                  </p>\n                <div>\n                  <label htmlFor=\"id_photo_upload\" className=\"form-label\">Foto segurando o Documento (Máx {MAX_FILE_SIZE_MB}MB)</label>\n                   <div className=\"input-group mb-2\">\n                    <input \n                      id=\"id_photo_upload\" \n                      type=\"file\" \n                      accept=\"image/png, image/jpeg, image/webp\" \n                      onChange={handleImageChange}\n                      className={`form-control ${errors.id_photo_data_uri ? 'is-invalid' : ''}`}\n                    />\n                     <button \n                        type=\"button\" \n                        className=\"btn btn-secondary\"\n                        onClick={() => {\n                            setValue('id_photo_data_uri', '', { shouldValidate: true });\n                            setImagePreview(null);\n                            const fileInput = document.getElementById('id_photo_upload') as HTMLInputElement;\n                            if (fileInput) fileInput.value = '';\n                        }}\n                    >\n                        Limpar\n                    </button>\n                    {errors.id_photo_data_uri && <div className=\"invalid-feedback w-100\">{errors.id_photo_data_uri.message}</div>}\n                  </div>\n                  {imagePreview && (\n                    <div className=\"mt-2\">\n                      <label className=\"form-label small\">Pré-visualização:</label>\n                      <Image \n                        src={imagePreview} \n                        alt=\"Pré-visualização do documento\" \n                        width={200} \n                        height={150} \n                        className=\"img-thumbnail object-fit-contain mt-1 bg-light\"\n                        data-ai-hint=\"identity document preview\"\n                      />\n                    </div>\n                  )}\n                  <p className=\"form-text small mt-2\">\n                    <strong>Atenção:</strong> Em uma aplicação real, esta imagem seria enviada para um servidor seguro para verificação. \n                    Não envie documentos reais neste ambiente de demonstração.\n                  </p>\n                </div>\n            </div>\n\n            <button type=\"submit\" className=\"btn btn-primary w-100 btn-lg fw-semibold d-flex align-items-center justify-content-center gap-2\" disabled={isSubmitting}>\n              {isSubmitting ? <Loader2 className=\"me-2 h-4 w-4 animate-spin\" /> : <Save className=\"me-2 h-4 w-4\" />}\n              Salvar Configurações\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n    \n\n"],"names":[],"mappings":"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","debugId":null}}]
}