(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{155:(e,r,t)=>{Promise.resolve().then(t.bind(t,1243))},157:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(2115);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:m,iconNode:d,...u}=e;return(0,a.createElement)("svg",{ref:r,...i,width:o,height:o,stroke:t,strokeWidth:l?24*Number(s)/Number(o):s,className:n("lucide",c),...u},[...d.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(m)?m:[m]])}),l=(e,r)=>{let t=(0,a.forwardRef)((t,i)=>{let{className:l,...c}=t;return(0,a.createElement)(s,{ref:i,iconNode:r,className:n("lucide-".concat(o(e)),l),...c})});return t.displayName="".concat(e),t}},172:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},283:(e,r,t)=>{"use strict";t.d(r,{A:()=>l,AuthProvider:()=>s});var a=t(5155),o=t(5695),n=t(2115);let i=(0,n.createContext)(void 0);function s(e){let{children:r}=e,[t,s]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),[m,d]=(0,n.useState)(!1),[u,g]=(0,n.useState)(null),[h,f]=(0,n.useState)(!0),v=(0,o.useRouter)(),S=(0,o.usePathname)();(0,n.useEffect)(()=>{f(!0);try{let e=localStorage.getItem("isAdminLoggedIn"),r=localStorage.getItem("adminUser");if("true"===e&&r){let e=JSON.parse(r);"admin"===e.tipo?(s(!0),c(e)):(localStorage.removeItem("isAdminLoggedIn"),localStorage.removeItem("adminUser"))}let t=localStorage.getItem("isOrganizerLoggedIn"),a=localStorage.getItem("organizerUser");if("true"===t&&a){let e=JSON.parse(a);"organizer"===e.tipo?(d(!0),g(e)):(localStorage.removeItem("isOrganizerLoggedIn"),localStorage.removeItem("organizerUser"))}}catch(e){console.error("Failed to access localStorage or parse auth data:",e),localStorage.removeItem("isAdminLoggedIn"),localStorage.removeItem("adminUser"),localStorage.removeItem("isOrganizerLoggedIn"),localStorage.removeItem("organizerUser")}f(!1)},[]);let I=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{localStorage.removeItem("isAdminLoggedIn"),localStorage.removeItem("adminUser")}catch(e){console.error("Failed to remove admin auth data from localStorage:",e)}s(!1),c(null),e&&S.startsWith("/admin")&&v.push("/login")},p=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{localStorage.removeItem("isOrganizerLoggedIn"),localStorage.removeItem("organizerUser")}catch(e){console.error("Failed to remove organizer auth data from localStorage:",e)}d(!1),g(null),e&&S.startsWith("/organizer")&&v.push("/login")};return(0,a.jsx)(i.Provider,{value:{isAdminLoggedIn:t,adminUser:l,setIsAdminLoggedIn:s,setAdminUser:c,adminLogin:e=>{if("admin"!==e.tipo){console.error("Attempted to log in non-admin user as admin.");return}try{localStorage.setItem("isAdminLoggedIn","true"),localStorage.setItem("adminUser",JSON.stringify(e))}catch(e){console.error("Failed to set admin auth data in localStorage:",e)}s(!0),c(e),p(!1)},adminLogout:I,isOrganizerLoggedIn:m,organizerUser:u,setIsOrganizerLoggedIn:d,setOrganizerUser:g,organizerLogin:e=>{if("organizer"!==e.tipo){console.error("Attempted to log in non-organizer user as organizer.");return}try{localStorage.setItem("isOrganizerLoggedIn","true"),localStorage.setItem("organizerUser",JSON.stringify(e))}catch(e){console.error("Failed to set organizer auth data in localStorage:",e)}d(!0),g(e),I(!1)},organizerLogout:p,isLoading:h},children:r})}function l(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1243:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var a=t(5155),o=t(283),n=t(5695),i=t(2115),s=t(172);function l(e){let{children:r}=e,{isAdminLoggedIn:t,isLoading:l}=(0,o.A)(),c=(0,n.useRouter)(),m=(0,n.usePathname)();return((0,i.useEffect)(()=>{l||t||c.replace("/login?redirect=/admin/dashboard")},[t,l,c,m]),l)?(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center vh-100",children:[" ",(0,a.jsx)(s.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,a.jsx)("p",{className:"ms-3 fs-5 text-muted",children:"Carregando..."})," "]}):t?(0,a.jsx)("div",{className:"container-fluid container-lg py-4 py-md-5",children:r}):(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center vh-100",children:[(0,a.jsx)(s.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,a.jsx)("p",{className:"ms-3 fs-5 text-muted",children:"Redirecionando..."})]})}},5695:(e,r,t)=>{"use strict";var a=t(8999);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})}},e=>{var r=r=>e(e.s=r);e.O(0,[441,684,358],()=>r(155)),_N_E=e.O()}]);