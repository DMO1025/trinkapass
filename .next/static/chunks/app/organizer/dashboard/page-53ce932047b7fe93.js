(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[703],{283:(e,a,t)=>{"use strict";t.d(a,{A:()=>o,AuthProvider:()=>n});var s=t(5155),r=t(5695),i=t(2115);let l=(0,i.createContext)(void 0);function n(e){let{children:a}=e,[t,n]=(0,i.useState)(!1),[o,d]=(0,i.useState)(null),[c,m]=(0,i.useState)(!1),[u,h]=(0,i.useState)(null),[p,x]=(0,i.useState)(!0),g=(0,r.useRouter)(),f=(0,r.usePathname)();(0,i.useEffect)(()=>{x(!0);try{let e=localStorage.getItem("isAdminLoggedIn"),a=localStorage.getItem("adminUser");if("true"===e&&a){let e=JSON.parse(a);"admin"===e.tipo?(n(!0),d(e)):(localStorage.removeItem("isAdminLoggedIn"),localStorage.removeItem("adminUser"))}let t=localStorage.getItem("isOrganizerLoggedIn"),s=localStorage.getItem("organizerUser");if("true"===t&&s){let e=JSON.parse(s);"organizer"===e.tipo?(m(!0),h(e)):(localStorage.removeItem("isOrganizerLoggedIn"),localStorage.removeItem("organizerUser"))}}catch(e){console.error("Failed to access localStorage or parse auth data:",e),localStorage.removeItem("isAdminLoggedIn"),localStorage.removeItem("adminUser"),localStorage.removeItem("isOrganizerLoggedIn"),localStorage.removeItem("organizerUser")}x(!1)},[]);let v=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{localStorage.removeItem("isAdminLoggedIn"),localStorage.removeItem("adminUser")}catch(e){console.error("Failed to remove admin auth data from localStorage:",e)}n(!1),d(null),e&&f.startsWith("/admin")&&g.push("/login")},b=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{localStorage.removeItem("isOrganizerLoggedIn"),localStorage.removeItem("organizerUser")}catch(e){console.error("Failed to remove organizer auth data from localStorage:",e)}m(!1),h(null),e&&f.startsWith("/organizer")&&g.push("/login")};return(0,s.jsx)(l.Provider,{value:{isAdminLoggedIn:t,adminUser:o,setIsAdminLoggedIn:n,setAdminUser:d,adminLogin:e=>{if("admin"!==e.tipo){console.error("Attempted to log in non-admin user as admin.");return}try{localStorage.setItem("isAdminLoggedIn","true"),localStorage.setItem("adminUser",JSON.stringify(e))}catch(e){console.error("Failed to set admin auth data in localStorage:",e)}n(!0),d(e),b(!1)},adminLogout:v,isOrganizerLoggedIn:c,organizerUser:u,setIsOrganizerLoggedIn:m,setOrganizerUser:h,organizerLogin:e=>{if("organizer"!==e.tipo){console.error("Attempted to log in non-organizer user as organizer.");return}try{localStorage.setItem("isOrganizerLoggedIn","true"),localStorage.setItem("organizerUser",JSON.stringify(e))}catch(e){console.error("Failed to set organizer auth data in localStorage:",e)}m(!0),h(e),v(!1)},organizerLogout:b,isLoading:p},children:a})}function o(){let e=(0,i.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},285:(e,a,t)=>{"use strict";t.d(a,{$:()=>d,r:()=>o});var s=t(5155),r=t(2115),i=t(9708),l=t(2085),n=t(9434);let o=(0,l.F)("btn inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"btn-dark",destructive:"btn-danger",outline:"btn-outline-secondary",secondary:"btn-secondary",ghost:"btn-ghost hover:bg-accent hover:text-accent-foreground",link:"btn-link text-primary"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 btn-sm",lg:"h-11 rounded-md px-8 btn-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:t,variant:r,size:l,asChild:d=!1,...c}=e,m=d?i.DX:"button";return(0,s.jsx)(m,{className:(0,n.cn)(o({variant:r,size:l,className:t})),ref:a,...c})});d.displayName="Button"},3705:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>G});var s=t(5155),r=t(283),i=t(965),l=t(3158),n=t(172),o=t(1949),d=t(157);let c=(0,d.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var m=t(8328),u=t(4509),h=t(4301),p=t(8390),x=t(3672),g=t(286),f=t(5943);let v=(0,d.A)("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);var b=t(6874),j=t.n(b),y=t(2115),N=t(4477);let w=(0,N.createServerReference)("4074b6739d0532ed98e51e2d88f2f053b4d71e55b9",N.callServer,void 0,N.findSourceMapURL,"getEventsByOrganizerId"),S=(0,N.createServerReference)("40f9a03f67f919322f175220a208bae7cfa1a12511",N.callServer,void 0,N.findSourceMapURL,"getWithdrawalRequestsByOrganizerId");var k=t(9918);let A=(0,N.createServerReference)("403b0232b3b40821faca75beb72aba1a04e1f84b11",N.callServer,void 0,N.findSourceMapURL,"addWithdrawalRequest");var I=t(6766),_=t(7481),z=t(5695),D=t(5452),R=t(5318),C=t(9434);let M=D.bL;D.l9;let q=D.ZL,T=D.bm,E=y.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(D.hJ,{ref:a,className:(0,C.cn)("fixed inset-0 z-[2000] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});E.displayName=D.hJ.displayName;let O=y.forwardRef((e,a)=>{let{className:t,children:r,...i}=e;return(0,s.jsxs)(q,{children:[(0,s.jsx)(E,{}),(0,s.jsxs)(D.UC,{ref:a,className:(0,C.cn)("fixed left-[50%] top-[50%] z-[2010] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[r,(0,s.jsxs)(D.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(R.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});O.displayName=D.UC.displayName;let P=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,C.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};P.displayName="DialogHeader";let L=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,C.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};L.displayName="DialogFooter";let F=y.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(D.hE,{ref:a,className:(0,C.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});F.displayName=D.hE.displayName;let U=y.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(D.VY,{ref:a,className:(0,C.cn)("text-sm text-muted-foreground",t),...r})});U.displayName=D.VY.displayName;let $=y.forwardRef((e,a)=>{let{className:t,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,C.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","file:text-foreground",t),ref:a,...i})});$.displayName="Input";var V=t(3655),B=y.forwardRef((e,a)=>(0,s.jsx)(V.sG.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));B.displayName="Label";let X=(0,t(2085).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J=y.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(B,{ref:a,className:(0,C.cn)(X(),t),...r})});J.displayName=B.displayName;var W=t(285);function G(){var e;let{organizerUser:a,isLoading:t}=(0,r.A)(),{toast:d}=(0,_.dj)(),b=(0,z.useRouter)(),[N,D]=(0,y.useState)([]),[R,C]=(0,y.useState)([]),[q,E]=(0,y.useState)(!0),[V,B]=(0,y.useState)(null),[X,G]=(0,y.useState)(0),[K,H]=(0,y.useState)(0),[Y,Q]=(0,y.useState)(0),[Z,ee]=(0,y.useState)(!1),[ea,et]=(0,y.useState)(""),[es,er]=(0,y.useState)(null),[ei,el]=(0,y.useState)(!1),[en,eo]=(0,y.useState)("overview"),[ed,ec]=(0,y.useState)(1),[em,eu]=(0,y.useState)(1),eh=(0,y.useMemo)(()=>X-(K+Y),[X,K,Y]),ep=(0,y.useMemo)(()=>Y>0,[Y]);(0,y.useEffect)(()=>{async function e(){if(a&&a.id){E(!0),B(null);try{let[e,t]=await Promise.all([w(a.id),S(a.id)]);C(t.sort((e,a)=>new Date(a.requestDate).getTime()-new Date(e.requestDate).getTime()));let s=t.filter(e=>"approved"===e.status).reduce((e,a)=>e+a.amount,0);H(s);let r=t.filter(e=>"pending"===e.status).reduce((e,a)=>e+a.amount,0);Q(r);let i=await Promise.all(e.map(async e=>{let a=(await (0,k.B)(e.id)).filter(e=>"paid"===e.status),t=a.reduce((e,a)=>e+a.quantidade,0),s=a.reduce((e,a)=>e+a.preco_ingresso_unitario*a.quantidade,0),r=new Set(a.map(e=>e.email_comprador)).size;return{...e,paidTicketsCount:t,netRevenue:s,uniquePaidBuyersCount:r}}));D(i.sort((e,a)=>new Date(a.data_horario).getTime()-new Date(e.data_horario).getTime()));let l=i.reduce((e,a)=>e+a.netRevenue,0);G(l)}catch(e){console.error("Failed to fetch events or sales for dashboard:",e),B("N\xe3o foi poss\xedvel carregar os dados do painel. Tente novamente mais tarde.")}finally{E(!1)}}}a&&!t?e():t||a||E(!1)},[a,t]);let ex=async()=>{if(!a)return;let e=parseFloat(ea.replace(",","."));if(isNaN(e)||e<=0){er("Por favor, insira um valor de saque v\xe1lido e positivo.");return}if(e>eh){er("O valor do saque n\xe3o pode exceder R$ ".concat(eh.toFixed(2).replace(".",","),"."));return}el(!0);try{let t={organizerId:a.id,organizerName:a.nome,organizerWhatsapp:a.whatsapp,amount:e,pixKeyType:a.pix_key_type,pixKey:a.pix_key,idPhotoDataUri:a.id_photo_data_uri},s=await A(t);C(e=>[s,...e].sort((e,a)=>new Date(a.requestDate).getTime()-new Date(e.requestDate).getTime())),Q(e=>e+s.amount),ee(!1),d({title:"Solicita\xe7\xe3o de Saque Enviada",description:"Sua solicita\xe7\xe3o de saque no valor de R$ ".concat(e.toFixed(2).replace(".",",")," foi enviada. O valor ser\xe1 transferido para sua conta PIX em at\xe9 3 dias \xfateis ap\xf3s aprova\xe7\xe3o."),variant:"default",duration:1e4})}catch(e){console.error("Error submitting withdrawal request:",e),d({title:"Erro ao Solicitar Saque",description:"Ocorreu um erro ao enviar sua solicita\xe7\xe3o.",variant:"destructive"})}finally{el(!1)}},eg=(e,a,t)=>{let s=(a-1)*t;return e.slice(s,s+t)},ef=eg(N,ed,5),ev=eg(R,em,5),eb=Math.ceil(N.length/5),ej=Math.ceil(R.length/5),ey=(e,a,t,r)=>a<=1?null:(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-3 border-top",children:[(0,s.jsxs)(W.$,{variant:"outline",size:"sm",onClick:()=>t(e-1),disabled:1===e,className:"btn btn-sm btn-outline-secondary d-flex align-items-center gap-1",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"})," Anterior"]}),(0,s.jsxs)("span",{className:"text-muted small",children:["P\xe1gina ",e," de ",a," (",r,")"]}),(0,s.jsxs)(W.$,{variant:"outline",size:"sm",onClick:()=>t(e+1),disabled:e===a,className:"btn btn-sm btn-outline-secondary d-flex align-items-center gap-1",children:["Pr\xf3xima ",(0,s.jsx)(l.A,{className:"h-4 w-4"})]})]}),eN=e=>{switch(e){case"approved":return"bg-success text-white";case"pending":return"bg-warning text-dark";case"rejected":return"bg-danger text-white";default:return"bg-light text-dark border"}},ew=e=>{switch(e){case"pending":return"Pendente";case"approved":return"Aprovado";case"rejected":return"Rejeitado";default:return e}};if(t||q&&a)return(0,s.jsxs)("div",{className:"d-flex align-items-center justify-content-center vh-100",children:[(0,s.jsx)(n.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,s.jsx)("p",{className:"ms-3 fs-5",children:"Carregando painel..."})]});if(!a)return(0,s.jsxs)("div",{className:"text-center py-5",children:[(0,s.jsx)(o.A,{className:"mx-auto h-12 w-12 text-danger"}),(0,s.jsx)("h2",{className:"mt-4 fs-2 fw-semibold",children:"Acesso Negado"}),(0,s.jsx)("p",{className:"mt-2 text-muted",children:"Voc\xea precisa estar logado como organizador."}),(0,s.jsx)(j(),{href:"/login",className:"btn btn-primary mt-4",children:"Fazer Login"})]});let eS=[{id:"overview",label:"Vis\xe3o Geral",icon:(0,s.jsx)(c,{})},{id:"events",label:"Meus Eventos",icon:(0,s.jsx)(m.A,{})},{id:"withdrawals",label:"Meus Saques",icon:(0,s.jsx)(u.A,{})}];return(0,s.jsxs)("div",{className:"container-fluid container-lg py-4",children:[(0,s.jsxs)("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-3 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"display-5 fw-bold text-primary",children:"Painel do Organizador"}),(0,s.jsxs)("p",{className:"text-muted fs-5",children:["Bem-vindo, ",a.nome,"!"]})]}),(0,s.jsxs)(j(),{href:"/organizer/events/create",className:"btn btn-accent btn-lg d-flex align-items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-5 w-5"})," Criar Novo Evento"]})]}),V&&(0,s.jsxs)("div",{className:"alert alert-danger d-flex align-items-center gap-2",role:"alert",children:[(0,s.jsx)(o.A,{})," ",V]}),(0,s.jsx)("ul",{className:"nav nav-tabs nav-fill mb-4 border-bottom-0",id:"organizerDashboardTabs",role:"tablist",children:eS.map(e=>(0,s.jsx)("li",{className:"nav-item",role:"presentation",children:(0,s.jsxs)("button",{className:"nav-link w-100 d-flex align-items-center justify-content-center gap-2 ".concat(en===e.id?"active fw-semibold bg-light border-primary border-bottom-0 text-primary":"text-muted"),id:"".concat(e.id,"-tab"),"data-bs-toggle":"tab","data-bs-target":"#".concat(e.id,"-tab-pane"),type:"button",role:"tab","aria-controls":"".concat(e.id,"-tab-pane"),"aria-selected":en===e.id,onClick:()=>eo(e.id),children:[e.icon," ",e.label]})},e.id))}),(0,s.jsxs)("div",{className:"tab-content",id:"organizerDashboardTabsContent",children:[(0,s.jsx)("div",{className:"tab-pane fade ".concat("overview"===en?"show active":""),id:"overview-tab-pane",role:"tabpanel","aria-labelledby":"overview-tab",children:(0,s.jsxs)("div",{className:"card border",children:[(0,s.jsx)("div",{className:"card-header bg-light p-3 p-md-4",children:(0,s.jsxs)("h2",{className:"card-title fs-4 fw-semibold d-flex align-items-center gap-2 mb-0",children:[(0,s.jsx)(p.A,{className:"text-primary"})," Resumo Financeiro"]})}),(0,s.jsxs)("div",{className:"card-body p-3 p-md-4",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsxs)("span",{className:"display-4 fw-bold text-primary",children:["R$ ",eh.toFixed(2).replace(".",",")]}),(0,s.jsx)("p",{className:"text-muted small mt-1",children:"Dispon\xedvel para saque"})]}),(0,s.jsxs)("div",{className:"row g-3 mb-3",children:[(0,s.jsxs)("div",{className:"col-md-4 col-sm-6",children:[(0,s.jsxs)("p",{className:"fs-5 text-dark mb-0",children:["R$ ",X.toFixed(2).replace(".",",")]}),(0,s.jsx)("p",{className:"small text-muted",children:"Ganhos totais (bruto)"})]}),(0,s.jsxs)("div",{className:"col-md-4 col-sm-6",children:[(0,s.jsxs)("p",{className:"fs-5 text-success-emphasis mb-0",children:["R$ ",K.toFixed(2).replace(".",",")]}),(0,s.jsx)("p",{className:"small text-muted",children:"Total j\xe1 sacado"})]}),(0,s.jsxs)("div",{className:"col-md-4 col-sm-6",children:[(0,s.jsxs)("p",{className:"fs-5 text-warning-emphasis mb-0",children:["R$ ",Y.toFixed(2).replace(".",",")]}),(0,s.jsx)("p",{className:"small text-muted",children:"Saques pendentes"})]})]}),ep?(0,s.jsx)("div",{className:"alert alert-info small mt-3",children:"Sua \xfaltima solicita\xe7\xe3o de saque est\xe1 sendo processada. O valor ser\xe1 transferido para sua conta PIX em at\xe9 3 dias \xfateis ap\xf3s aprova\xe7\xe3o pela administra\xe7\xe3o."}):(0,s.jsxs)("button",{className:"btn btn-primary mt-3 d-flex align-items-center gap-2",disabled:eh<=0||ei||!a.is_verified,onClick:()=>{if(a){if(!a.is_verified||!a.pix_key||!a.id_photo_data_uri){d({title:"Configura\xe7\xf5es Incompletas ou Verifica\xe7\xe3o Pendente",description:"Por favor, complete sua Chave PIX e envie sua foto com documento nas Configura\xe7\xf5es de Saque e Verifica\xe7\xe3o antes de solicitar um saque.",variant:"destructive",duration:1e4,action:(0,s.jsx)(W.$,{variant:"secondary",size:"sm",onClick:()=>b.push("/organizer/settings/withdrawal"),children:"Ir para Configura\xe7\xf5es"})});return}et(eh>0?eh.toFixed(2).replace(".",","):"0,00"),er(null),ee(!0)}},children:[ei?(0,s.jsx)(n.A,{className:"h-5 w-5 animate-spin"}):(0,s.jsx)(x.A,{className:"h-5 w-5"}),"Solicitar Saque"]}),eh<=0&&!ep&&(0,s.jsx)("p",{className:"text-muted small mt-2",children:"N\xe3o h\xe1 valores dispon\xedveis para saque no momento."}),(!a.is_verified||!a.pix_key||!a.id_photo_data_uri)&&eh>0&&!ep&&(0,s.jsxs)("div",{className:"alert alert-warning small mt-3 d-flex align-items-center gap-2",children:[(0,s.jsx)(o.A,{className:"h-5 w-5 shrink-0"}),(0,s.jsxs)("div",{children:["Para solicitar saques, por favor, complete suas ",(0,s.jsx)(j(),{href:"/organizer/settings/withdrawal",className:"alert-link",children:"configura\xe7\xf5es de saque e verifica\xe7\xe3o"})," e aguarde a aprova\xe7\xe3o da administra\xe7\xe3o."]})]})]})]})}),(0,s.jsx)("div",{className:"tab-pane fade ".concat("events"===en?"show active":""),id:"events-tab-pane",role:"tabpanel","aria-labelledby":"events-tab",children:(0,s.jsxs)("div",{className:"card border",children:[(0,s.jsxs)("div",{className:"card-header bg-light p-3 p-md-4",children:[(0,s.jsxs)("h2",{className:"card-title fs-4 fw-semibold d-flex align-items-center gap-2 mb-0",children:[(0,s.jsx)(m.A,{className:"text-primary"})," Seus Eventos Criados (",N.length,")"]}),(0,s.jsx)("p",{className:"card-text text-muted small",children:"Acompanhe os ingressos vendidos e informa\xe7\xf5es dos compradores."})]}),(0,s.jsxs)("div",{className:"card-body p-0",children:[ef.length>0?(0,s.jsx)("div",{className:"vstack gap-0",children:ef.map(e=>{let a=new Date(e.data_horario).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}),t="".concat(e.nome_evento);return(0,s.jsx)("div",{className:"card-item border-bottom",children:(0,s.jsxs)("div",{className:"row g-0",children:[(0,s.jsx)("div",{className:"col-md-3 position-relative",style:{minHeight:"150px"},children:(0,s.jsx)(I.default,{src:e.imagem_url||"https://picsum.photos/seed/".concat(e.id,"/300/200"),alt:e.nome_evento,layout:"fill",objectFit:"cover","data-ai-hint":"event image"})}),(0,s.jsx)("div",{className:"col-md-9",children:(0,s.jsxs)("div",{className:"card-body d-flex flex-column h-100 p-3",children:[(0,s.jsx)("h3",{className:"card-title fs-5 fw-semibold text-primary mb-1",children:t}),(0,s.jsxs)("p",{className:"card-text text-muted small mb-2",children:[a," \xe0s ",new Date(e.data_horario).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})," - ",e.local]}),(0,s.jsxs)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-3 mt-2 mb-3",children:[(0,s.jsx)("div",{className:"col",children:(0,s.jsxs)("div",{className:"p-2 bg-light-subtle border rounded-2",children:[(0,s.jsx)("p",{className:"small fw-medium mb-0 text-muted",children:"Ingressos Pagos"}),(0,s.jsxs)("p",{className:"fs-6 fw-bold mb-0 text-success",children:[e.paidTicketsCount," / ",e.quantidade_total]})]})}),(0,s.jsx)("div",{className:"col",children:(0,s.jsxs)("div",{className:"p-2 bg-light-subtle border rounded-2",children:[(0,s.jsx)("p",{className:"small fw-medium mb-0 text-muted",children:"Valor a Receber"}),(0,s.jsxs)("p",{className:"fs-6 fw-bold mb-0 text-primary",children:["R$ ",e.netRevenue.toFixed(2).replace(".",",")]})]})}),(0,s.jsx)("div",{className:"col",children:(0,s.jsxs)("div",{className:"p-2 bg-light-subtle border rounded-2",children:[(0,s.jsx)("p",{className:"small fw-medium mb-0 text-muted",children:"Dispon\xedveis"}),(0,s.jsx)("p",{className:"fs-6 fw-bold mb-0 text-info",children:e.quantidade_disponivel})]})})]}),(0,s.jsxs)("div",{className:"mt-auto d-flex flex-wrap gap-2",children:[(0,s.jsxs)(j(),{href:"/organizer/events/".concat(e.id,"/buyers"),className:"btn btn-sm btn-secondary d-flex align-items-center gap-1",children:[(0,s.jsx)(g.A,{className:"h-4 w-4"})," Ver Compradores (",e.uniquePaidBuyersCount,")"]}),(0,s.jsxs)(j(),{href:"/organizer/events/".concat(e.id,"/edit"),className:"btn btn-sm btn-outline-secondary d-flex align-items-center gap-1",children:[(0,s.jsx)(f.A,{className:"h-4 w-4"})," Editar Evento"]})]})]})})]})},e.id)})}):(0,s.jsxs)("div",{className:"text-center py-5 p-3",children:[(0,s.jsx)(m.A,{className:"mx-auto h-12 w-12 text-muted"}),(0,s.jsx)("p",{className:"mt-4 fs-5 text-muted",children:"Voc\xea ainda n\xe3o criou nenhum evento."}),(0,s.jsxs)(j(),{href:"/organizer/events/create",className:"btn btn-accent mt-3 btn-lg d-flex align-items-center gap-2 mx-auto",style:{width:"fit-content"},children:[(0,s.jsx)(h.A,{className:"h-5 w-5"})," Criar Meu Primeiro Evento"]})]}),ey(ed,eb,ec,"Eventos")]})]})}),(0,s.jsx)("div",{className:"tab-pane fade ".concat("withdrawals"===en?"show active":""),id:"withdrawals-tab-pane",role:"tabpanel","aria-labelledby":"withdrawals-tab",children:(0,s.jsxs)("div",{className:"card border",children:[(0,s.jsx)("div",{className:"card-header bg-light p-3 p-md-4",children:(0,s.jsxs)("h2",{className:"card-title fs-4 fw-semibold d-flex align-items-center gap-2 mb-0",children:[(0,s.jsx)(v,{className:"text-primary"})," Minhas Solicita\xe7\xf5es de Saque (",R.length,")"]})}),(0,s.jsxs)("div",{className:"card-body p-0",children:[ev.length>0?(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-hover table-striped align-middle mb-0 small",children:[(0,s.jsx)("thead",{className:"table-light",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Data Solic."}),(0,s.jsx)("th",{children:"Valor (R$)"}),(0,s.jsx)("th",{children:"Chave PIX"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Data Proc."}),(0,s.jsx)("th",{children:"Notas Admin"})]})}),(0,s.jsx)("tbody",{children:ev.map(e=>{var a;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:new Date(e.requestDate).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,s.jsxs)("td",{children:["R$ ",e.amount.toFixed(2).replace(".",",")]}),(0,s.jsxs)("td",{children:[null===(a=e.pixKeyType)||void 0===a?void 0:a.toUpperCase(),": ",e.pixKey]}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"badge small ".concat(eN(e.status)),children:ew(e.status)})}),(0,s.jsx)("td",{children:e.processedDate?new Date(e.processedDate).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"}),(0,s.jsx)("td",{className:"text-muted",children:e.adminNotes||"-"})]},e.id)})})]})}):(0,s.jsx)("p",{className:"text-muted text-center p-4",children:"Nenhuma solicita\xe7\xe3o de saque encontrada."}),ey(em,ej,eu,"Saques")]})]})})]}),(0,s.jsx)(M,{open:Z,onOpenChange:ee,children:(0,s.jsxs)(O,{className:"sm:max-w-md",children:[(0,s.jsxs)(P,{children:[(0,s.jsx)(F,{children:"Solicitar Saque"}),(0,s.jsxs)(U,{children:["Dispon\xedvel para saque: R$ ",eh.toFixed(2).replace(".",","),". Insira o valor que deseja sacar."]})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(J,{htmlFor:"withdrawal-amount",children:"Valor do Saque (R$)"}),(0,s.jsx)($,{id:"withdrawal-amount",type:"text",value:ea,onChange:e=>{let a=e.target.value;(/^[\d]*[,.]?[\d]{0,2}$/.test(a)||""===a)&&et(a),er(null)},className:"mt-1",placeholder:"Ex: 150,00"}),es&&(0,s.jsx)("p",{className:"text-sm text-danger mt-1",children:es})]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["O valor ser\xe1 transferido para a Chave PIX: ",(0,s.jsxs)("span",{className:"font-medium text-foreground",children:[null===(e=a.pix_key_type)||void 0===e?void 0:e.toUpperCase(),": ",a.pix_key]}),"."]})]}),(0,s.jsxs)(L,{children:[(0,s.jsx)(T,{asChild:!0,children:(0,s.jsx)(W.$,{type:"button",variant:"secondary",children:"Cancelar"})}),(0,s.jsxs)(W.$,{type:"button",onClick:ex,disabled:ei,children:[ei&&(0,s.jsx)(n.A,{className:"me-2 h-4 w-4 animate-spin"}),"Confirmar Solicita\xe7\xe3o"]})]})]})})]})}},4301:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},5318:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(157).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5943:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(157).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},6120:(e,a,t)=>{Promise.resolve().then(t.bind(t,3705))},7481:(e,a,t)=>{"use strict";t.d(a,{dj:()=>u});var s=t(2115);let r=0,i=new Map,l=e=>{if(i.has(e))return;let a=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,a)},n=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?l(t):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},o=[],d={toasts:[]};function c(e){d=n(d,e),o.forEach(e=>{e(d)})}function m(e){let{...a}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,a]=s.useState(d);return s.useEffect(()=>(o.push(a),()=>{let e=o.indexOf(a);e>-1&&o.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8328:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(157).A)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},9434:(e,a,t)=>{"use strict";t.d(a,{cn:()=>i});var s=t(2596),r=t(9688);function i(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.QP)((0,s.$)(a))}},9918:(e,a,t)=>{"use strict";t.d(a,{B:()=>r});var s=t(4477);let r=(0,s.createServerReference)("40cef2ed129f2e4ae69d23a580670158fca0857dda",s.callServer,void 0,s.findSourceMapURL,"getSalesByEventId")}},e=>{var a=a=>e(e.s=a);e.O(0,[63,277,688,874,823,441,684,358],()=>a(6120)),_N_E=e.O()}]);