(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{283:(e,a,t)=>{"use strict";t.d(a,{A:()=>l,AuthProvider:()=>n});var r=t(5155),o=t(5695),s=t(2115);let i=(0,s.createContext)(void 0);function n(e){let{children:a}=e,[t,n]=(0,s.useState)(!1),[l,d]=(0,s.useState)(null),[c,m]=(0,s.useState)(!1),[u,g]=(0,s.useState)(null),[v,h]=(0,s.useState)(!0),p=(0,o.useRouter)(),f=(0,o.usePathname)();(0,s.useEffect)(()=>{h(!0);try{let e=localStorage.getItem("isAdminLoggedIn"),a=localStorage.getItem("adminUser");if("true"===e&&a){let e=JSON.parse(a);"admin"===e.tipo?(n(!0),d(e)):(localStorage.removeItem("isAdminLoggedIn"),localStorage.removeItem("adminUser"))}let t=localStorage.getItem("isOrganizerLoggedIn"),r=localStorage.getItem("organizerUser");if("true"===t&&r){let e=JSON.parse(r);"organizer"===e.tipo?(m(!0),g(e)):(localStorage.removeItem("isOrganizerLoggedIn"),localStorage.removeItem("organizerUser"))}}catch(e){console.error("Failed to access localStorage or parse auth data:",e),localStorage.removeItem("isAdminLoggedIn"),localStorage.removeItem("adminUser"),localStorage.removeItem("isOrganizerLoggedIn"),localStorage.removeItem("organizerUser")}h(!1)},[]);let x=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{localStorage.removeItem("isAdminLoggedIn"),localStorage.removeItem("adminUser")}catch(e){console.error("Failed to remove admin auth data from localStorage:",e)}n(!1),d(null),e&&f.startsWith("/admin")&&p.push("/login")},_=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{localStorage.removeItem("isOrganizerLoggedIn"),localStorage.removeItem("organizerUser")}catch(e){console.error("Failed to remove organizer auth data from localStorage:",e)}m(!1),g(null),e&&f.startsWith("/organizer")&&p.push("/login")};return(0,r.jsx)(i.Provider,{value:{isAdminLoggedIn:t,adminUser:l,setIsAdminLoggedIn:n,setAdminUser:d,adminLogin:e=>{if("admin"!==e.tipo){console.error("Attempted to log in non-admin user as admin.");return}try{localStorage.setItem("isAdminLoggedIn","true"),localStorage.setItem("adminUser",JSON.stringify(e))}catch(e){console.error("Failed to set admin auth data in localStorage:",e)}n(!0),d(e),_(!1)},adminLogout:x,isOrganizerLoggedIn:c,organizerUser:u,setIsOrganizerLoggedIn:m,setOrganizerUser:g,organizerLogin:e=>{if("organizer"!==e.tipo){console.error("Attempted to log in non-organizer user as organizer.");return}try{localStorage.setItem("isOrganizerLoggedIn","true"),localStorage.setItem("organizerUser",JSON.stringify(e))}catch(e){console.error("Failed to set organizer auth data in localStorage:",e)}m(!0),g(e),x(!1)},organizerLogout:_,isLoading:v},children:a})}function l(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},285:(e,a,t)=>{"use strict";t.d(a,{$:()=>d,r:()=>l});var r=t(5155),o=t(2115),s=t(9708),i=t(2085),n=t(9434);let l=(0,i.F)("btn inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"btn-dark",destructive:"btn-danger",outline:"btn-outline-secondary",secondary:"btn-secondary",ghost:"btn-ghost hover:bg-accent hover:text-accent-foreground",link:"btn-link text-primary"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 btn-sm",lg:"h-11 rounded-md px-8 btn-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef((e,a)=>{let{className:t,variant:o,size:i,asChild:d=!1,...c}=e,m=d?s.DX:"button";return(0,r.jsx)(m,{className:(0,n.cn)(l({variant:o,size:i,className:t})),ref:a,...c})});d.displayName="Button"},1057:(e,a,t)=>{"use strict";t.d(a,{Z:()=>o});var r=t(4477);let o=(0,r.createServerReference)("40fe749a8391e6528facea5a25513e9e6e91d9b012",r.callServer,void 0,r.findSourceMapURL,"getEventById")},1342:(e,a,t)=>{Promise.resolve().then(t.bind(t,7135))},1949:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(157).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1950:(e,a,t)=>{"use strict";t.d(a,{E:()=>r});let r=2},2543:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(157).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3343:(e,a,t)=>{"use strict";t.d(a,{H:()=>o});var r=t(1876);function o(e,a){var t;let o,g;let v=null!==(t=null==a?void 0:a.additionalDigits)&&void 0!==t?t:2,h=function(e){let a;let t={},r=e.split(s.dateTimeDelimiter);if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],s.timeZoneDelimiter.test(t.date)&&(t.date=e.split(s.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){let e=s.timezone.exec(a);e?(t.time=a.replace(e[1],""),t.timezone=e[1]):t.time=a}return t}(e);if(h.date){let e=function(e,a){let t=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};let o=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?o:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(h.date,v);o=function(e,a){var t,r,o,s,n,l,c,g;if(null===a)return new Date(NaN);let v=e.match(i);if(!v)return new Date(NaN);let h=!!v[4],p=d(v[1]),f=d(v[2])-1,x=d(v[3]),_=d(v[4]),b=d(v[5])-1;if(h){return(t=0,r=_,o=b,r>=1&&r<=53&&o>=0&&o<=6)?function(e,a,t){let r=new Date(0);r.setUTCFullYear(e,0,4);let o=r.getUTCDay()||7;return r.setUTCDate(r.getUTCDate()+((a-1)*7+t+1-o)),r}(a,_,b):new Date(NaN)}{let e=new Date(0);return(s=a,n=f,l=x,n>=0&&n<=11&&l>=1&&l<=(m[n]||(u(s)?29:28))&&(c=a,(g=p)>=1&&g<=(u(c)?366:365)))?(e.setUTCFullYear(a,f,Math.max(p,x)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);let p=o.getTime(),f=0;if(h.time&&isNaN(f=function(e){var a,t,o;let s=e.match(n);if(!s)return NaN;let i=c(s[1]),l=c(s[2]),d=c(s[3]);return(a=i,t=l,o=d,24===a?0===t&&0===o:o>=0&&o<60&&t>=0&&t<60&&a>=0&&a<25)?i*r.s0+l*r.Cg+1e3*d:NaN}(h.time)))return new Date(NaN);if(h.timezone){if(isNaN(g=function(e){var a,t;if("Z"===e)return 0;let o=e.match(l);if(!o)return 0;let s="+"===o[1]?-1:1,i=parseInt(o[2]),n=o[3]&&parseInt(o[3])||0;return(a=0,(t=n)>=0&&t<=59)?s*(i*r.s0+n*r.Cg):NaN}(h.timezone)))return new Date(NaN)}else{let e=new Date(p+f),a=new Date(0);return a.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),a.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),a}return new Date(p+f+g)}let s={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},i=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,n=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function c(e){return e&&parseFloat(e.replace(",","."))||0}let m=[31,null,31,30,31,30,31,31,30,31,30,31];function u(e){return e%400==0||e%4==0&&e%100!=0}},4636:(e,a,t)=>{"use strict";t.d(a,{AM:()=>n,Wv:()=>l,hl:()=>d});var r=t(5155),o=t(2115),s=t(547),i=t(9434);let n=s.bL,l=s.l9,d=o.forwardRef((e,a)=>{let{className:t,align:o="center",sideOffset:n=4,...l}=e;return(0,r.jsx)(s.ZL,{children:(0,r.jsx)(s.UC,{ref:a,align:o,sideOffset:n,className:(0,i.cn)("z-[2000] w-72 rounded-md border bg-popover p-4 text-popover-foreground outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})})});d.displayName=s.UC.displayName},5511:(e,a,t)=>{"use strict";t.d(a,{V:()=>d});var r=t(5155);t(2115);var o=t(965),s=t(3158),i=t(8049),n=t(9434),l=t(285);function d(e){let{className:a,classNames:t,showOutsideDays:d=!0,...c}=e;return(0,r.jsx)(i.hv,{showOutsideDays:d,className:(0,n.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,n.cn)((0,l.r)({variant:"secondary"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,n.cn)((0,l.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-100",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{className:a,...t}=e;return(0,r.jsx)(o.A,{className:(0,n.cn)("h-4 w-4",a),...t})},IconRight:e=>{let{className:a,...t}=e;return(0,r.jsx)(s.A,{className:(0,n.cn)("h-4 w-4",a),...t})}},...c})}d.displayName="Calendar"},5695:(e,a,t)=>{"use strict";var r=t(8999);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},5943:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(157).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},6923:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(157).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},7135:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>P});var r=t(5155),o=t(2177),s=t(221),i=t(5594),n=t(7481),l=t(5695),d=t(172),c=t(1949),m=t(2543),u=t(5943),g=t(1920),v=t(8186),h=t(5074),p=t(6923),f=t(9119),x=t(2115),_=t(283),b=t(4477);let N=(0,b.createServerReference)("70e892a1089d9d2f972f4e3bb381c2465b852fafe0",b.callServer,void 0,b.findSourceMapURL,"updateEventAction");var j=t(8641),y=t(1057),S=t(4636),w=t(5511),A=t(3343),E=t(3013),I=t(540),z=t(9434),C=t(6766),D=t(1950);let T=/^\d{5}-?\d{3}$/,k=i.Ik({nome_evento:i.Yj().min(3,{message:"Nome do evento deve ter pelo menos 3 caracteres."}),descricao:i.Yj().min(10,{message:"Descri\xe7\xe3o deve ter pelo menos 10 caracteres."}),data_horario_date:i.p6({required_error:"Data do evento \xe9 obrigat\xf3ria."}),data_horario_time:i.Yj().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,{message:"Formato de hora inv\xe1lido (HH:MM)."}),nome_local_evento:i.Yj().min(3,{message:"Nome do local do evento deve ter pelo menos 3 caracteres."}).optional().or(i.eu("")),cep:i.Yj().regex(T,{message:"CEP inv\xe1lido (formato XXXXX-XXX ou XXXXXXXX)."}),local:i.Yj().min(5,{message:"Endere\xe7o (Rua, Bairro, N\xfamero) deve ter pelo menos 5 caracteres."}),cidade:i.Yj().min(3,{message:"Cidade \xe9 obrigat\xf3ria e deve ter pelo menos 3 caracteres."}),preco_ingresso:i.au.number().min(0,{message:"Pre\xe7o deve ser um valor positivo ou zero."}),quantidade_total:i.au.number().int().min(1,{message:"Quantidade deve ser pelo menos 1."}),imagem_url:i.Yj().optional().refine(e=>!e||e.startsWith("data:image/"),{message:"Formato de imagem inv\xe1lido. Use o upload."})});function P(){let{toast:e}=(0,n.dj)(),a=(0,l.useRouter)(),t=(0,l.useParams)().eventId,{organizerUser:i,isLoading:b}=(0,_.A)(),[P,F]=(0,x.useState)(!1),[M,O]=(0,x.useState)(!0),[U,R]=(0,x.useState)(null),[L,q]=(0,x.useState)(null),[X,V]=(0,x.useState)(!1),[H,Y]=(0,x.useState)(null),{register:B,handleSubmit:$,control:Z,formState:{errors:W},setError:G,reset:J,setValue:Q,watch:K}=(0,o.mN)({resolver:(0,s.u)(k),defaultValues:{nome_evento:"",descricao:"",data_horario_time:"18:00",nome_local_evento:"",cep:"",local:"",cidade:"",preco_ingresso:0,quantidade_total:100,imagem_url:""}}),ee=K("cep");(0,x.useEffect)(()=>{async function e(){if(!t||!i){O(!1),i||b||a.replace("/login?redirect=/organizer/dashboard");return}O(!0),q(null);try{let e=await (0,y.Z)(t);if(e){if(e.organizer_id!==i.id)q("Voc\xea n\xe3o tem permiss\xe3o para editar este evento."),a.replace("/organizer/dashboard");else{R(e);let a=(0,A.H)(e.data_horario),t=e.imagem_url||"";J({nome_evento:e.nome_evento,descricao:e.descricao,data_horario_date:a,data_horario_time:(0,E.GP)(a,"HH:mm"),nome_local_evento:e.nome_local_evento||"",cep:e.cep||"",local:e.local,cidade:e.cidade,preco_ingresso:e.preco_ingresso,quantidade_total:e.quantidade_total,imagem_url:t}),t&&Y(t)}}else q("Evento n\xe3o encontrado.")}catch(e){console.error("Failed to fetch event details for editing:",e),q("Falha ao carregar detalhes do evento. Tente novamente.")}finally{O(!1)}}b||e()},[t,i,b,a,J]);let ea=async()=>{if(!ee||!T.test(ee)){e({title:"CEP Inv\xe1lido",description:"Por favor, insira um CEP v\xe1lido.",variant:"destructive"});return}V(!0);let a=await (0,j.K)(ee);V(!1),a.success&&a.data?(Q("cidade",a.data.localidade,{shouldValidate:!0}),Q("local","".concat(a.data.logradouro).concat(a.data.bairro?", ".concat(a.data.bairro):""),{shouldValidate:!0}),e({title:"CEP Encontrado!",description:"Cidade e endere\xe7o (rua/bairro) atualizados."})):e({title:"Erro ao Buscar CEP",description:a.error||"N\xe3o foi poss\xedvel buscar o CEP.",variant:"destructive"})};if(b||M)return(0,r.jsxs)("div",{className:"d-flex align-items-center justify-content-center min-vh-100",children:[(0,r.jsx)(d.A,{className:"h-12 w-12 animate-spin text-primary"})," ",(0,r.jsx)("p",{className:"ms-2",children:"Carregando dados do evento..."})]});if(!i)return a.replace("/login?redirect=/organizer/dashboard"),null;if(L)return(0,r.jsxs)("div",{className:"text-center py-5",children:[(0,r.jsx)(c.A,{className:"mx-auto h-12 w-12 text-danger"}),(0,r.jsx)("h2",{className:"mt-4 fs-2 fw-semibold text-danger",children:"Erro ao Carregar Evento"}),(0,r.jsx)("p",{className:"mt-2 text-muted",children:L}),(0,r.jsxs)("button",{onClick:()=>a.push("/organizer/dashboard"),className:"btn btn-secondary mt-4 d-flex align-items-center gap-2 mx-auto",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"})," Voltar para o Painel"]})]});if(!U)return(0,r.jsx)("div",{className:"text-center py-5",children:"Evento n\xe3o encontrado ou n\xe3o autorizado."});let et=async r=>{if(!(null==i?void 0:i.id)||!t){e({title:"Erro de Autentica\xe7\xe3o ou ID do Evento Ausente",description:"Organizador ou evento n\xe3o identificado. Fa\xe7a login novamente ou verifique o evento.",variant:"destructive"});return}F(!0);let{data_horario_date:o,data_horario_time:s,...n}=r,[l,d]=s.split(":").map(Number),c=new Date(o);c.setHours(l,d);let m={...n,nome_local_evento:r.nome_local_evento||void 0,data_horario:c.toISOString(),imagem_url:r.imagem_url||void 0},u=await N(t,m,i.id);F(!1),u.success&&u.event?(e({title:"Evento Atualizado!",description:'O evento "'.concat(u.event.nome_evento,'" foi atualizado com sucesso.'),variant:"default"}),a.push("/organizer/dashboard")):(e({title:"Falha ao Atualizar Evento",description:u.error||"Verifique os campos e tente novamente.",variant:"destructive"}),u.fieldErrors&&Object.entries(u.fieldErrors).forEach(e=>{let[a,t]=e;G(a,{type:"server",message:t})}))};return(0,r.jsxs)("div",{className:"container-fluid container-md py-4 py-md-5",children:[(0,r.jsxs)("button",{onClick:()=>a.back(),className:"btn btn-secondary mb-4 d-flex align-items-center gap-2",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"})," Voltar"]}),(0,r.jsxs)("div",{className:"card border",children:[" ",(0,r.jsxs)("div",{className:"card-header p-3 p-md-4 bg-light",children:[(0,r.jsxs)("h1",{className:"card-title fs-2 fw-bold text-primary d-flex align-items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-8 w-8"})," Editar Evento"]}),(0,r.jsxs)("p",{className:"card-text text-muted",children:['Modifique os detalhes do evento "',U.nome_evento,'".']})]}),(0,r.jsx)("div",{className:"card-body p-3 p-md-4",children:(0,r.jsxs)("form",{onSubmit:$(et),className:"needs-validation",noValidate:!0,children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"nome_evento",className:"form-label",children:"Nome do Evento"}),(0,r.jsx)("input",{id:"nome_evento",...B("nome_evento"),className:"form-control ".concat(W.nome_evento?"is-invalid":"")}),W.nome_evento&&(0,r.jsx)("div",{className:"invalid-feedback",children:W.nome_evento.message})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"descricao",className:"form-label",children:"Descri\xe7\xe3o"}),(0,r.jsx)("textarea",{id:"descricao",...B("descricao"),className:"form-control ".concat(W.descricao?"is-invalid":""),rows:4}),W.descricao&&(0,r.jsx)("div",{className:"invalid-feedback",children:W.descricao.message})]}),(0,r.jsxs)("div",{className:"row g-3 mb-3",children:[(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{htmlFor:"data_horario_date",className:"form-label",children:"Data do Evento"}),(0,r.jsx)(o.xI,{name:"data_horario_date",control:Z,render:e=>{let{field:a}=e;return(0,r.jsxs)(S.AM,{children:[(0,r.jsx)(S.Wv,{asChild:!0,children:(0,r.jsxs)("button",{type:"button",className:(0,z.cn)("form-control text-start d-flex align-items-center",!a.value&&"text-muted"),children:[(0,r.jsx)(g.A,{className:"me-2 h-4 w-4"}),a.value?(0,E.GP)(a.value,"PPP",{locale:I.F}):(0,r.jsx)("span",{children:"Escolha uma data"})]})}),(0,r.jsx)(S.hl,{className:"w-auto p-0",children:(0,r.jsx)(w.V,{mode:"single",selected:a.value,onSelect:a.onChange,initialFocus:!0,locale:I.F})})]})}}),W.data_horario_date&&(0,r.jsx)("div",{className:"text-danger small mt-1",children:W.data_horario_date.message})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{htmlFor:"data_horario_time",className:"form-label",children:"Hor\xe1rio (HH:MM)"}),(0,r.jsx)("input",{id:"data_horario_time",type:"time",...B("data_horario_time"),className:"form-control ".concat(W.data_horario_time?"is-invalid":"")}),W.data_horario_time&&(0,r.jsx)("div",{className:"invalid-feedback",children:W.data_horario_time.message})]})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"nome_local_evento",className:"form-label",children:"Nome do Local do Evento (Opcional)"}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("span",{className:"input-group-text",children:(0,r.jsx)(v.A,{className:"h-5 w-5 text-muted"})}),(0,r.jsx)("input",{id:"nome_local_evento",...B("nome_local_evento"),className:"form-control ".concat(W.nome_local_evento?"is-invalid":""),placeholder:"Ex: Gin\xe1sio Esportivo Municipal"}),W.nome_local_evento&&(0,r.jsx)("div",{className:"invalid-feedback",children:W.nome_local_evento.message})]})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"cep",className:"form-label",children:"CEP"}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("input",{id:"cep",...B("cep"),className:"form-control ".concat(W.cep?"is-invalid":""),placeholder:"Ex: 00000-000"}),(0,r.jsxs)("button",{type:"button",onClick:ea,disabled:X,className:"btn btn-secondary d-flex align-items-center gap-1",children:[X?(0,r.jsx)(d.A,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(h.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"d-none d-sm-inline",children:"Buscar"})]}),W.cep&&(0,r.jsx)("div",{className:"invalid-feedback w-100",children:W.cep.message})]})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"cidade",className:"form-label",children:"Cidade"}),(0,r.jsx)("input",{id:"cidade",...B("cidade"),className:"form-control ".concat(W.cidade?"is-invalid":""),readOnly:X}),W.cidade&&(0,r.jsx)("div",{className:"invalid-feedback",children:W.cidade.message})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"local",className:"form-label",children:"Endere\xe7o (Rua, Bairro, N\xfamero e Complemento)"}),(0,r.jsx)("input",{id:"local",...B("local"),className:"form-control ".concat(W.local?"is-invalid":""),placeholder:"Ex: Rua Exemplo, Bairro Tal, 123 - Apto 4B"}),W.local&&(0,r.jsx)("div",{className:"invalid-feedback",children:W.local.message}),(0,r.jsx)("div",{className:"form-text",children:"Ap\xf3s buscar o CEP, a rua e bairro ser\xe3o preenchidos. Adicione o n\xfamero e complemento."})]}),(0,r.jsxs)("div",{className:"row g-3 mb-3",children:[(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{htmlFor:"preco_ingresso",className:"form-label",children:"Pre\xe7o do Ingresso (R$)"}),(0,r.jsx)("input",{id:"preco_ingresso",type:"number",step:"0.01",...B("preco_ingresso"),className:"form-control ".concat(W.preco_ingresso?"is-invalid":"")}),W.preco_ingresso&&(0,r.jsx)("div",{className:"invalid-feedback",children:W.preco_ingresso.message}),(0,r.jsxs)("div",{className:"form-text",children:["Ser\xe1 adicionada uma taxa de servi\xe7o de R$ ",D.E.toFixed(2)," por ingresso."]})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{htmlFor:"quantidade_total",className:"form-label",children:"Quantidade Total de Ingressos"}),(0,r.jsx)("input",{id:"quantidade_total",type:"number",...B("quantidade_total"),className:"form-control ".concat(W.quantidade_total?"is-invalid":"")}),W.quantidade_total&&(0,r.jsx)("div",{className:"invalid-feedback",children:W.quantidade_total.message}),(0,r.jsxs)("div",{className:"form-text",children:["Vendidos: ",U.quantidade_total-U.quantidade_disponivel,". A nova quantidade n\xe3o pode ser menor."]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{htmlFor:"imagem_upload",className:"form-label",children:["Imagem do Evento (Opcional, m\xe1x ",5,"MB)"]}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("input",{id:"imagem_upload",type:"file",accept:"image/png, image/jpeg, image/webp, image/gif",onChange:e=>{var a;let t=null===(a=e.target.files)||void 0===a?void 0:a[0];if(t){if(t.size>5242880){G("imagem_url",{message:"Arquivo muito grande. M\xe1ximo ".concat(5,"MB.")}),Y((null==U?void 0:U.imagem_url)||null),Q("imagem_url",(null==U?void 0:U.imagem_url)||""),e.target.value="";return}let a=new FileReader;a.onloadend=()=>{let e=a.result;Q("imagem_url",e,{shouldValidate:!0}),Y(e)},a.readAsDataURL(t)}else Q("imagem_url",(null==U?void 0:U.imagem_url)||""),Y((null==U?void 0:U.imagem_url)||null)},className:"form-control ".concat(W.imagem_url?"is-invalid":"")}),(0,r.jsx)("span",{className:"input-group-text",children:(0,r.jsx)(p.A,{className:"h-5 w-5 text-muted"})}),W.imagem_url&&(0,r.jsx)("div",{className:"invalid-feedback w-100",children:W.imagem_url.message})]}),H&&(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("label",{className:"form-label",children:"Pr\xe9-visualiza\xe7\xe3o:"}),(0,r.jsx)(C.default,{src:H,alt:"Pr\xe9-visualiza\xe7\xe3o da imagem do evento",width:200,height:100,className:"img-thumbnail object-fit-cover mt-1","data-ai-hint":"event image preview"})]})]}),(0,r.jsxs)("button",{type:"submit",className:"btn btn-primary w-100 btn-lg fw-semibold d-flex align-items-center justify-content-center gap-2",disabled:P||X,children:[P?(0,r.jsx)(d.A,{className:"me-2 h-4 w-4 animate-spin"}):(0,r.jsx)(f.A,{className:"me-2 h-4 w-4"}),"Salvar Altera\xe7\xf5es"]})]})})]})]})}},7481:(e,a,t)=>{"use strict";t.d(a,{dj:()=>u});var r=t(2115);let o=0,s=new Map,i=e=>{if(s.has(e))return;let a=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,a)},n=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},l=[],d={toasts:[]};function c(e){d=n(d,e),l.forEach(e=>{e(d)})}function m(e){let{...a}=e,t=(o=(o+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,a]=r.useState(d);return r.useEffect(()=>(l.push(a),()=>{let e=l.indexOf(a);e>-1&&l.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8641:(e,a,t)=>{"use strict";t.d(a,{K:()=>o});var r=t(4477);let o=(0,r.createServerReference)("40acc5280c85c367f583f29d6339cc86ea7f2b23d5",r.callServer,void 0,r.findSourceMapURL,"fetchAddressByCepAction")},9119:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(157).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9434:(e,a,t)=>{"use strict";t.d(a,{cn:()=>s});var r=t(2596),o=t(9688);function s(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,o.QP)((0,r.$)(a))}}},e=>{var a=a=>e(e.s=a);e.O(0,[521,63,277,688,152,144,441,684,358],()=>a(1342)),_N_E=e.O()}]);